<div class="field-container">
  {% if element.type != 'submit' and element.type != 'button' and element.type != 'multiple' %}
  <span class="field-container__label">{{ element.label }}</span>
  {% endif %}
  <span class="field-container__field">

    {% if element.type == 'text' %}
    <input type="text" {% if element.value is defined %} value="{{ element.value }}" {% endif %} name="{% if parent %}{{ parent }}[0][{{ name }}]{% else %}{{ name }}{% endif %}" {% if element.disabled is defined %}disabled="{{ element.disabled }}"{% endif %}>
    {% if element.image_render is defined %}
      {{ image_render(element.value) }}
    {% endif %}
    {% endif %}

    {% if element.type == 'file' %}
    <input type="file" name="{% if parent %}{{ parent }}[0][{{ name }}]{% else %}{{ name }}{% endif %}">
    {% endif %}

    {% if element.type == 'submit' %}
    <input type="submit" name="{{ name }}" id="{{ name }}" value="{{ element.label }}">
    {% endif %}

    {% if element.type == 'button' %}
    <button name="{{ name }}" id="{{ name }}">{{ element.label }}</button>
    {% endif %}

    {% if element.type == 'textarea' %}
    <textarea name="{{ name }}" id="{{ name }}">{% if element.value is defined %}{{ element.value }}{% endif %}</textarea>
    {% endif %}

    {% if element.type == 'select' %}
    <select name="{% if parent %}{{ parent }}[0][{{ name }}]{% else %}{{ name }}{% endif %}">
      {% for value, label in element.options %}
      <option value="{{ value }}" {% if element.value is defined and value == element.value %}selected="selected"{% endif %}>{{ label }}</option>
      {% endfor %}
    </select>
    {% endif %}

    {% if element.type == 'multiple' %}
    <div class="form-container">
      <fieldset>
        <legend>{{ element.label }}</legend>
        {% for key, field in element.collection.fields %}
          {% for fieldname, el in field %}
            {{ field_render(fieldname, el, name) }}
          {% endfor %}
        {% endfor %}
      </fieldset>
    </div>
    {% endif %}

  </span>
</div>
